const AWS = require('aws-sdk');
class Secrets {
    constructor(access = undefined) {
        if (access) AWS.config.update(access);
    }

    async getSecret(secretId, secretRegion) {
        const secretsmanager = new AWS.SecretsManager({region: secretRegion});
        const params = {
            SecretId: secretId,
        }
        const response= await secretsmanager.getSecretValue(params).promise();
        return JSON.parse(response.SecretString);
    }
}

module.exports = Secrets;
